const blackjack=(()=>{"use strict";let e=[],f=["C","D","H","S"],g=["A","J","Q","K"],h=[],a=document.querySelector("#btn-new-game"),b=document.querySelector("#btn-get-card"),c=document.querySelector("#btn-stop"),i=document.querySelectorAll(".div-user-cards"),j=document.querySelectorAll("small"),d=(d=2)=>{e=k(),h=[];for(let a=0;a<d;a++)h.push(0);j.forEach(a=>a.innerText="(0)"),i.forEach(a=>a.innerHTML=""),b.disabled=!1,c.disabled=!1},k=()=>{e=[];for(let a=2;a<=10;a++)for(let b of f)e.push(a+b);for(let c of g)for(let d of f)e.push(c+d);return _.shuffle(e)},l=()=>{if(0===e.length)throw new Error("The deck is empty");return e.pop()},m=b=>{let a=b.substring(0,b.length-1);return isNaN(a)?"A"===a?11:10:1*a},n=(b,a)=>(h[a]+=m(b),j[a].innerText=h[a],h[a]),o=(b,c)=>{let a=document.createElement("img");a.src=`assets/cards/${b}.png`,a.classList.add("cards-game"),i[c].appendChild(a)},p=()=>{let[a,b]=h;setTimeout(()=>{alert(b===a?`It's a tie! 😐`:a>21?"Computer won \u{1F610}":b>21?"Player won \u{1F610}":`Computer won 😐`)},300)},q=a=>{let b=0;do{let c=l();b=n(c,h.length-1),o(c,h.length-1)}while(b<a&&a<=21)p()};return b.addEventListener("click",()=>{let a=l(),d=n(a,0);o(a,0),d>=21&&(b.disabled=!0,c.disabled=!0,q(d))}),c.addEventListener("click",()=>{b.disabled=!0,c.disabled=!0,q(h[0])}),a.addEventListener("click",()=>{d()}),{startGame:d}})()